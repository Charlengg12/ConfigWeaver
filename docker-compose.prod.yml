services:
  # Frontend - Production mode with Nginx
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.prod
    environment:
      - NODE_ENV=production
    # Remove dev volumes in production
    volumes: []
    restart: unless-stopped

  # Backend - Production mode
  backend:
    environment:
      - DATABASE_URL=postgresql://user:password@db:5432/networkweaver
      - ENV=production
    # Remove dev volumes in production
    volumes: []
    restart: unless-stopped

  # Database - Production settings
  db:
    restart: unless-stopped

  # Monitoring stack
  prometheus:
    restart: unless-stopped

  grafana:
    restart: unless-stopped

  snmp-exporter:
    restart: unless-stopped

  snmp-simulator:
    restart: unless-stopped

  wireguard:
    restart: unless-stopped
